<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>For Haniya â¤ï¸</title>
  <link rel="stylesheet" href="style.css">
</head>

<body class="question-page">

  <!-- BACKGROUND IMAGE -->
  <div class="bg"></div>

  <!-- CONTENT -->
  <div class="floating-content">
    <h1>Haniya â¤ï¸</h1>
    <h2>Will you be my Valentine?</h2>

    <p>
      From that moment to every moment afterâ€¦  
      I still choose you. Every single time.
    </p>

    <div class="buttons">
      <button id="yesBtn">Yes ğŸ’•</button>
      <button id="noBtn">No ğŸ˜’</button>
    </div>
  </div>

  <!-- SCRIPT -->
  <script>
    document.addEventListener("DOMContentLoaded", () => {

      const yesBtn = document.getElementById("yesBtn");
      const noBtn  = document.getElementById("noBtn");

      let clicks = 0;
      let noAlive = true;

      const messages = [
        "what the fuck?",
        "you for real?",
        "nah ğŸ˜’",
        "go press YES",
        "WRONG BUTTON",
        "LAST WARNING ğŸ˜¡",
        "STOP IT",
        "ok bye ğŸ’¥"
      ];

      function clamp(value, min, max) {
        return Math.min(Math.max(value, min), max);
      }

      function moveRandom(el, range = 180) {
        const rect = el.getBoundingClientRect();
        const padding = 20;

        const x = clamp(
          rect.left + (Math.random() * range - range / 2),
          padding,
          window.innerWidth - rect.width - padding
        );

        const y = clamp(
          rect.top + (Math.random() * range - range / 2),
          padding,
          window.innerHeight - rect.height - padding
        );

        el.style.position = "fixed";
        el.style.left = `${x}px`;
        el.style.top = `${y}px`;
      }

      /* NO BUTTON LOGIC */
      noBtn.addEventListener("click", () => {
        if (!noAlive) return;

        moveRandom(noBtn);

        if (clicks < messages.length) {
          noBtn.textContent = messages[clicks];
        }

        const red = Math.min(255, 120 + clicks * 30);
        noBtn.style.background = `rgb(${red}, 40, 40)`;
        noBtn.style.color = "white";

        clicks++;

        if (clicks === messages.length) {
          noAlive = false;
          noBtn.classList.add("burst");
          setTimeout(() => noBtn.remove(), 600);
        }
      });

      /* YES RUNS AWAY UNTIL NO IS DEAD */
      function fleeYes() {
        if (!noAlive) return;
        moveRandom(yesBtn, 160);
      }

      yesBtn.addEventListener("mouseenter", fleeYes);
      yesBtn.addEventListener("mousemove", fleeYes);
      yesBtn.addEventListener("touchstart", fleeYes, { passive: true });

      /* YES CLICK */
      yesBtn.addEventListener("click", (e) => {
        if (noAlive) {
          e.preventDefault();
          fleeYes();
          return;
        }
        window.location.href = "fireworks.html";
      });

    });
  </script>

</body>
</html>
